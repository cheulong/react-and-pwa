{"version":3,"file":"static/webpack/static\\development\\pages\\index.js.9119c918a31cc95aa035.hot-update.js","sources":["webpack:///./components/Articles.js"],"sourcesContent":["import Link from 'next/link'\r\nimport { connect } from 'react-redux'\r\nimport Clock from './Clock'\r\nimport AddCount from './AddCount'\r\nimport React, { Component } from 'react'\r\nimport { removeArticle, selectArticle,showArticles } from '../store'\r\n\r\nclass Articles extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {counter: 0, loading: true};\r\n  }\r\n  componentDidMount() {\r\n    this.startTime();\r\n    \r\n  }\r\n  startTime(){\r\n    this.interval = setInterval(() => {\r\n      console.log(this.state.counter)\r\n      \r\n        this.setState({counter: this.state.counter + 1});\r\n        if(this.state.counter>3){\r\n          this.setState({loading:false});\r\n          this.clearInterterval();\r\n      \r\n          }\r\n    }, 1000);\r\n  }\r\n  clearInterterval(){\r\n    clearInterval(this.interval);\r\n    this.setState({counter:0});\r\n  }\r\n  onRemove(id){\r\n    this.setState({loading:true});\r\n    this.startTime();\r\n    this.props.deleteArticle(id)\r\n  }\r\n  componentWillMount() {\r\n    this.props.showArticles();\r\n    console.log('articel',this.props.articles);\r\n  }\r\n  render(){\r\n    const {articles, deleteArticle, selectArticle } = this.props\r\n    return(\r\n      <div>\r\n      {this.state.loading && <div>\r\n        {this.state.counter}\r\n        <h1 className=\"App\">Loading...</h1>\r\n        <style jsx>\r\n                   {` \r\n                  .App {\r\n                    text-align: center;\r\n                   width: 80%;\r\n        margin: auto;\r\n                  color: gray;\r\n                   font-family: Arial;\r\n                 `}\r\n                 </style>\r\n        </div>}\r\n        {!this.state.loading && \r\n        <div className=\"App\">\r\n                <div className=\"content\">\r\n                    <div className=\"page-title\">\r\n                      <h1 className=\"title\">Articles</h1>\r\n                    </div>\r\n                  {articles.map((article) =>  <div className=\"article-brief-container\">\r\n                <Link href={{ pathname: '/article', query: { id: `${article.id}` } }} as={\"/article/\"+`${article.id}`}><span onClick= {()=> selectArticle(article)}  dangerouslySetInnerHTML={{__html: article.title}}></span></Link>\r\n      <p className=\"article-date\"><small>20:41 | 3 Feb 2-19 | <Link href=\"/edit-article\" ><span onClick= {()=> selectArticle(article)}> Edit</span></Link> | <button onClick= {()=> onRemove(article.id)}><span className=\"remove-btn\"> Remove </span></button></small></p>\r\n        </div>)}\r\n                </div>\r\n                  <style jsx>\r\n                  {` \r\n                .App {\r\n                  text-align: center;\r\n                  width: 80%;\r\n      margin: auto;\r\n                color: gray;\r\n                  font-family: Arial;\r\n                }\r\n                .content {\r\n                  text-align: start;\r\n                  color: gray;\r\n                  margin-top: 50px;\r\n              \r\n                }\r\n              \r\n                .article-title {\r\n                  margin: 0;\r\n                }\r\n              \r\n                .article-date {\r\n                  margin: 0;\r\n                }\r\n              \r\n                a {\r\n                  text-decoration: none;\r\n              }\r\n              \r\n                .remove-btn {\r\n                  color: red;\r\n                }\r\n                .title {\r\n                  text-transform: uppercase;\r\n                  font-size: 2.2rem;\r\n                  text-align: center;\r\n              \r\n                }\r\n                \r\n                .page-title h2 {\r\n                  float: left;\r\n                }\r\n                `}\r\n                </style>\r\n                <nav>\r\n                  <Link href=\"/add-article\">\r\n                    <a>Add</a>\r\n                  </Link>\r\n                </nav>\r\n        </div>\r\n      }\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n    \r\n  \r\nconst mapStateToProps = ({ articles }) => ({ articles })\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  deleteArticle: index =>dispatch(removeArticle(index)),\r\n  selectArticle: article =>dispatch(selectArticle(article)),\r\n  showArticles: () =>dispatch(showArticles())\r\n})\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Articles)"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AACA;AAAA;AACA;AADA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAFA;AAGA;AACA;;;AAAA;AACA;AAEA;;;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAEA;AACA;AACA;;;AACA;AACA;AACA;AAAA;AAAA;AACA;;;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;;;AACA;AACA;AACA;AACA;;;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAFA;AAAA;AAAA;AAeA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAFA;AALA;AAAA;AAAA;AAqDA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;;;;AAnHA;AACA;AA2HA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAHA;AAAA;AACA;AAKA;;;;A","sourceRoot":""}